export default class SearchView{init(e){this.render(e)}render(e){const t=window.search;t.innerHTML="";const r=document.createElement("custom-search");r.setAttribute("title",e.title),r.setAttribute("span",e.span),r.setAttribute("text",e.text),t.appendChild(r)}hide(){window.search.style.display="none"}show(){window.search.style.display="block"}bindSearch({handleSearch:e,SearchModel:t,SearchView:r,CardsView:o}){const s=e;document.querySelector("custom-search").shadowRoot.querySelector("#searchForm").addEventListener("submit",e=>{e.preventDefault();let c=document.querySelector("custom-search").shadowRoot.querySelector("#emailInput").value;if(""!==c&&this.validateEmail(c)){document.querySelector("custom-search").shadowRoot.querySelector("#emailInput").classList.remove("error"),document.querySelector("custom-search").shadowRoot.querySelector("#labelInput").style.visibility="visible",document.querySelector("custom-search").shadowRoot.querySelector("#errorLabel").style.visibility="hidden";let e={email:c};document.querySelector("custom-search").shadowRoot.querySelector("#emailInput").value="",s({email:e,SearchModel:t,SearchView:r,CardsView:o})}else document.querySelector("custom-search").shadowRoot.querySelector("#emailInput").classList.add("error"),document.querySelector("custom-search").shadowRoot.querySelector("#labelInput").style.visibility="hidden",document.querySelector("custom-search").shadowRoot.querySelector("#errorLabel").style.visibility="visible"})}validateEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}setText(e){document.querySelector("custom-search").shadowRoot.querySelector("#searchTitle").innerHTML=e.title;let t=document.querySelector("custom-search").shadowRoot.querySelector("#searchText");t.innerHTML=e.text;let r=document.createElement("span");r.innerHTML=e.span,t.prepend(r)}}